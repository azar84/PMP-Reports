{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/azarmacbook/Cursor%20Projects/PMP-%20Reports/src/lib/db.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\n\nconst globalForPrisma = globalThis as unknown as {\n  prisma: PrismaClient | undefined;\n};\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient();\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma; "],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6HAAA,CAAA,eAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///Users/azarmacbook/Cursor%20Projects/PMP-%20Reports/src/app/api/admin/dashboard-stats/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { prisma } from '../../../../lib/db';\nimport type { ApiResponse } from '../../../../lib/api';\n\ninterface DashboardStats {\n  totalUsers: number;\n  mediaFiles: number;\n  scheduledJobs: number;\n  activeSettings: number;\n}\n\nexport async function GET() {\n  try {\n    // Get current counts\n    const [\n      totalUsers,\n      mediaFiles,\n      activeSettings\n    ] = await Promise.all([\n      prisma.adminUser.count(),\n      prisma.mediaLibrary.count(),\n      prisma.siteSettings.count()\n    ]);\n\n    // Scheduled jobs count - this would depend on your scheduler implementation\n    const scheduledJobs = 0; // Placeholder - update based on your scheduler\n\n    const stats: DashboardStats = {\n      totalUsers,\n      mediaFiles,\n      scheduledJobs,\n      activeSettings\n    };\n\n    const response: ApiResponse<DashboardStats> = {\n      success: true,\n      data: stats\n    };\n\n    return NextResponse.json(response);\n  } catch (error) {\n    console.error('Failed to fetch dashboard stats:', error);\n    \n    const response: ApiResponse<null> = {\n      success: false,\n      data: null,\n      message: 'Failed to fetch dashboard statistics'\n    };\n    \n    return NextResponse.json(response, { status: 500 });\n  }\n} "],"names":[],"mappings":";;;AAAA;AACA;;;AAUO,eAAe;IACpB,IAAI;QACF,qBAAqB;QACrB,MAAM,CACJ,YACA,YACA,eACD,GAAG,MAAM,QAAQ,GAAG,CAAC;YACpB,kHAAA,CAAA,SAAM,CAAC,SAAS,CAAC,KAAK;YACtB,kHAAA,CAAA,SAAM,CAAC,YAAY,CAAC,KAAK;YACzB,kHAAA,CAAA,SAAM,CAAC,YAAY,CAAC,KAAK;SAC1B;QAED,4EAA4E;QAC5E,MAAM,gBAAgB,GAAG,+CAA+C;QAExE,MAAM,QAAwB;YAC5B;YACA;YACA;YACA;QACF;QAEA,MAAM,WAAwC;YAC5C,SAAS;YACT,MAAM;QACR;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAElD,MAAM,WAA8B;YAClC,SAAS;YACT,MAAM;YACN,SAAS;QACX;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD;AACF","debugId":null}}]
}