{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/azarmacbook/Cursor%20Projects/PMP-%20Reports/src/app/api/admin/consultant-types/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { PrismaClient } from '@prisma/client';\nimport { z } from 'zod';\n\nconst prisma = new PrismaClient();\n\nconst consultantTypeSchema = z.object({\n  type: z.string().min(1, 'Consultant type is required'),\n  description: z.string().optional(),\n});\n\n// GET - Fetch all consultant types\nexport async function GET() {\n  try {\n    const consultantTypes = await prisma.consultantType.findMany({\n      include: {\n        consultants: {\n          select: {\n            id: true,\n            name: true,\n          },\n        },\n      },\n      orderBy: {\n        type: 'asc',\n      },\n    });\n\n    return NextResponse.json({ success: true, data: consultantTypes });\n  } catch (error) {\n    console.error('Error fetching consultant types:', error);\n    return NextResponse.json(\n      { success: false, error: 'Failed to fetch consultant types' },\n      { status: 500 }\n    );\n  }\n}\n\n// POST - Create new consultant type\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const validatedData = consultantTypeSchema.parse(body);\n\n    const consultantType = await prisma.consultantType.create({\n      data: validatedData,\n      include: {\n        consultants: {\n          select: {\n            id: true,\n            name: true,\n          },\n        },\n      },\n    });\n\n    return NextResponse.json({ success: true, data: consultantType });\n  } catch (error) {\n    console.error('Error creating consultant type:', error);\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { success: false, error: 'Validation error', details: error.errors },\n        { status: 400 }\n      );\n    }\n    return NextResponse.json(\n      { success: false, error: 'Failed to create consultant type' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,SAAS,IAAI,6HAAA,CAAA,eAAY;AAE/B,MAAM,uBAAuB,oKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACpC,MAAM,oKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,oKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ;AAClC;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,kBAAkB,MAAM,OAAO,cAAc,CAAC,QAAQ,CAAC;YAC3D,SAAS;gBACP,aAAa;oBACX,QAAQ;wBACN,IAAI;wBACJ,MAAM;oBACR;gBACF;YACF;YACA,SAAS;gBACP,MAAM;YACR;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAgB;IAClE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAAmC,GAC5D;YAAE,QAAQ;QAAI;IAElB;AACF;AAGO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,gBAAgB,qBAAqB,KAAK,CAAC;QAEjD,MAAM,iBAAiB,MAAM,OAAO,cAAc,CAAC,MAAM,CAAC;YACxD,MAAM;YACN,SAAS;gBACP,aAAa;oBACX,QAAQ;wBACN,IAAI;wBACJ,MAAM;oBACR;gBACF;YACF;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,MAAM;QAAe;IACjE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,mCAAmC;QACjD,IAAI,iBAAiB,oKAAA,CAAA,IAAC,CAAC,QAAQ,EAAE;YAC/B,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,OAAO;gBAAoB,SAAS,MAAM,MAAM;YAAC,GACnE;gBAAE,QAAQ;YAAI;QAElB;QACA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,OAAO;QAAmC,GAC5D;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}